# Whiteboard Recorder
#### A recording system that creates a birds-eye view of a whiteboard recorded from any perspective

![Screenshot of web interface](/screenshots/web-interface.png)

## Requirements
- Python 3
- Packages installed in `requirements.txt`: `pyyaml, opencv-contrib-python, flask`
- ffmpeg.exe is included, see instructions below for Linux setup

## Usage
1. Start `app.py` on a host computer
2. If requested, follow the configuration prompts in the terminal.
3. Navigate in a modern browser to that computer's IP address followed by the port 5000. For example, `http://192.168.1.100:5000`.
4. Use the web control interface to start and stop recordings.
5. The recording is processed automatically, when it is done you can download it to your computer.

**Warning:** Starting a new recording (as of right now) overwrites old recordings. Make sure you download any that are significant. TODO: Add an option to archive recordings by date, assuming you have a large hard drive.

### ArUco Marker Detection
For some camera positions, it is easiest to automatically detect the board using four ArUco markers placed in the corners. I used markers 0 to 3 from the 4x4 dictionary, generated by https://chev.me/arucogen/.

### ffmpeg
My code relies on ffmpeg.exe (working to make it cross-platform) for video manipulation, including:
- Recording
- Converting to audio
- Adding audio tracks to video

#### Installing ffmpeg on Linux
```
sudo apt install software-properties-common
sudo apt update
sudo add-apt-repository ppa:jonathonf/ffmpeg-4
sudo apt install ffmpeg
```

Some ffmpeg commands generated using https://www.mrfdev.com/ffmpeg-command-generator